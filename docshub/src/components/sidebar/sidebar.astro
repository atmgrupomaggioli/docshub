---
import { getCollection } from "astro:content";
import { cx } from "@/utils/cx";

import SidebarContent from "./sidebar-content";

const allDocs = await getCollection("docs");
const pathname = new URL(Astro.request.url).pathname;
---

<aside
  class={cx(
    "hidden xl:translate-x-0",
    "xl:flex w-[375px]",
  )}
>
  <div
    class="max-h-[calc(100vh-4rem)] xl:sticky top-16 px-2 py-2 overflow-y-auto bg-gray-900" 
  >
    <SidebarContent client:only="react" docs={allDocs} pathname={pathname} />
  </div>
</aside>

